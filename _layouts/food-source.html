---
layout: null
---
<!doctype html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8" >
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<title>{{ page.title }}, Food Oasis Los Angeles</title>

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Reem+Kufi|Open+Sans" />
	<link rel="stylesheet" href="../../assets/css/oasis.css" />
	<link rel="stylesheet" href="../../assets/leaflet/leaflet.css" />	
	
	<!-- Need the following files to enable Mapbox -->
	<script src='https://api.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body class="food-source">
	<div class="header">
		<h2>
			<a href="/navigation">
				<img src="/assets/images/food-oasis-la-horizontal.svg" width="300" alt="Food Oasis Los Angeles" />
			</a>
		</h2>
	</div>
	<nav>
		<ul>
			<li>
				<a href="/">
					<!--
					Search icon
					by Veronika Krpciarova
					https://thenounproject.com/v.krpciarova/collection/search/?oq=search&cidx=1&i=353178
					-->
					<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="20" height="20">
						<path fill="#FFFFFF" d=" M 83.7 77.7 Q 83.6751953125 77.5302734375 83.55 77.4 L 62.65 54.95 Q 67.4498046875 48.480859375 67.45 40 67.44765625 29.3423828125 59.85 21.75 52.3580078125 14.252734375 41.7 14.25 31.0427734375 14.2533203125 23.45 21.75 15.9533203125 29.3427734375 15.95 40 15.952734375 50.6580078125 23.45 58.15 31.0423828125 65.74765625 41.7 65.75 48.7376953125 65.747265625 54.45 62.45 L 76.15 85.5 Q 76.26796875 85.6412109375 76.4 85.7 76.5693359375 85.7599609375 76.7 85.75 81.1939453125 85.53125 82.9 83.5 84.7708984375 81.51328125 83.7 77.7 M 51.75 29.9 Q 55.9521484375 34.107421875 55.95 40 55.9521484375 45.8923828125 51.75 50.05 47.5923828125 54.2521484375 41.7 54.25 35.807421875 54.2521484375 31.6 50.05 27.44765625 45.8923828125 27.45 40 27.44765625 34.107421875 31.6 29.9 35.807421875 25.74765625 41.7 25.75 47.5923828125 25.74765625 51.75 29.9 Z"></path>
					</svg>
					<span>Find food near you</span>
				</a>
			</li>
		</ul>
	</nav>

	<h1>{{ page.name_html }}</h1>

	<p>
		<!--
		<span class="title"><img class="icon" src="../../assets/images/icons/category.svg" width="30" alt="" /> <span>Category</span></span><br />
		-->
		<a href="/source" title="List of Food Banks in Los Angeles">Food Bank</a>
	</p>
	
	<div class="page-contents">

		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/address.svg" width="30" alt="Address" /> <span>Address</span></span><br />
			<a title="Get Directions on Google Maps" href="http://maps.google.com/maps/place/{{ page.food_source['address'] | escape }}">{{ page.food_source['address'] | escape }}</a>
		</p>

		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/phone.svg" width="30" alt="Phone" /> <span>Phone</span></span><br />
			{{ page.food_source['phone'] | escape }}
		</p>
		<!--
		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/website.svg" width="30" alt="Website" /> <span>Website</span></span><br />
			<a href="http://www.yelp.com/biz/montrose-candy-co-la-crescenta-montrose">
				PLACEHOLDER: {{ page.food_source['name'] }} on Yelp
			</a>
		</p>
		-->

		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/hours.svg" width="30" alt="" /> <span>Hours</span></span><br />
			
		</p>

		<p>{{ page.food_source['hours'] | escape }}</p>
		<!--
		<dl>
			<dt>Monday</dt>
			<dd>11:00 am - 7:00 pm</dd>
			<dd>Open Now!</dd>

			<dt>Tuesday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Wednesday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Thursday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Friday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Saturday</dt>
			<dd>11:00 am - 7:00 pm</dd>
			
			<dt>Sunday</dt>
			<dd>11:00 am - 7:00 pm</dd>
		</dl>
		-->
	</div>
	
	<div id="map" class="mapbox"></div>
	
	<script src="../../assets/leaflet/leaflet.js"></script>
	<script>

		var FOOD_SOURCE = {
			name: '{{ page.food_source['name'] }}',
			latitude: {{ page.food_source['latitude'] }},
			longitude: {{ page.food_source['longitude'] }},
		} 

		// var map = L.map('map', { zoomControl:false }).setView([-118.243685, 34.052234], 16);

		mapboxgl.accessToken = 'pk.eyJ1IjoiZm9vZGRlc2VydHNsYSIsImEiOiJjaXByOXRscnMwNzY1Zm5ub3YwYTd5Z3dsIn0.DWgUhgW32pVkybKx7cWWiw';
		
		var map = new mapboxgl.Map({
			container: 'map', // container id
		    style: 'mapbox://styles/mapbox/light-v9',
			//style: 'mapbox://styles/fooddesertsla/ciqlgjsvb0001bkno0wkx8gg8', // stylesheet location
			center: [FOOD_SOURCE.longitude, FOOD_SOURCE.latitude], // starting position
			zoom: 14 // starting zoom
		});

		var nav = new mapboxgl.Navigation({position: 'bottom-left'}); // position is optional
		map.addControl(nav);

		// var marker = new mapboxgl.Marker()
		// 	.setLngLat([-118.243685, 34.052234])
		// 	.addTo(map);

		// map.addControl(new mapboxgl.Geolocate({}));
		
		// BELOW is the wrong syntax, need to figure out how to get geolocated coordinates!!!
		// var newctr = new mapboxgl.getCenter();
		// var myLoc = mapboxgl.Marker().setLngLat(newctr).addTo(map);

		var marker = document.createElement('div');
		marker.className = 'marker';

		var img = document.createElement('img');
		img.className = 'icon';
		img.src = '/assets/images/markers/green.svg';
		marker.appendChild(img);

		var label = document.createElement('span');
		label.className = 'label';
		label.innerText = FOOD_SOURCE.name;
		marker.appendChild(label);

		new mapboxgl.Marker(marker)
			.setLngLat([FOOD_SOURCE.longitude, FOOD_SOURCE.latitude])
			.addTo(map);

		/*
		map.on('load', function () {
		    map.addSource("points", {
		        "type": "geojson",
		        "data": {
		            "type": "FeatureCollection",
		            "features": [{
		                "type": "Feature",
		                "geometry": {
		                    "type": "Point",
		                    "coordinates": [FOOD_SOURCE.longitude, FOOD_SOURCE.latitude]
		                },
		                "properties": {
		                    "title": FOOD_SOURCE.name,
		                    "icon": "mymarker"
		                }
		            }]
		        }
		    });

		    map.addLayer({
		        "id": "points",
		        "type": "symbol",
		        "source": "points",
		        "layout": {
		            "icon-image": "{icon}",
		            "text-field": "{title}",
		            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
		            //"text-color": "#ffff00",
		            //"text-opacity": 0.75,
		            "text-offset": [0, 0.75],
		            "text-anchor": "top"
		        }
		    });
		});
		*/



		// L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw', {
		// 	id: 'mapbox.streets'
		// }).addTo(map);

		// L.marker([-118.243685, 34.052234]).addTo(map);

	</script>
</body>
</html>
