---
layout: null
---
<!doctype html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8" >
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<title>{{ page.title }}, Food Oasis Los Angeles</title>

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Reem+Kufi|Open+Sans" />
	<link rel="stylesheet" href="../../assets/css/oasis.css" />
	<link rel="stylesheet" href="../../assets/leaflet/leaflet.css" />	
	
	<!-- Need the following files to enable Mapbox -->
	<script src='https://api.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body class="food-source">
	<div class="header">
		<h2>
			<a href="/navigation">
				<img src="/assets/images/food-oasis-la-horizontal.svg" width="300" alt="Food Oasis Los Angeles" />
			</a>
		</h2>
	</div>
	<nav>
		<ul>
			<li><a href="/">Find food near you</a></li>
		</ul>
	</nav>

	<h1>{{ page.name_html }}</h1>

	<p>
		<!--
		<span class="title"><img class="icon" src="../../assets/images/icons/category.svg" width="30" alt="" /> <span>Category</span></span><br />
		-->
		<a href="/source" title="List of Food Banks in Los Angeles">Food Bank</a>
	</p>
	
	<div class="page-contents">

		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/address.svg" width="30" alt="Address" /> <span>Address</span></span><br />
			<a title="Get Directions on Google Maps" href="http://maps.google.com/maps/place/{{ page.food_source['address'] | escape }}">{{ page.food_source['address'] | escape }}</a>
		</p>

		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/phone.svg" width="30" alt="Phone" /> <span>Phone</span></span><br />
			{{ page.food_source['phone'] | escape }}
		</p>
		<!--
		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/website.svg" width="30" alt="Website" /> <span>Website</span></span><br />
			<a href="http://www.yelp.com/biz/montrose-candy-co-la-crescenta-montrose">
				PLACEHOLDER: {{ page.food_source['name'] }} on Yelp
			</a>
		</p>
		-->

		<p>
			<span class="title"><img class="icon" src="../../assets/images/icons/hours.svg" width="30" alt="" /> <span>Hours</span></span><br />
			
		</p>

		<p>{{ page.food_source['hours'] | escape }}</p>
		<!--
		<dl>
			<dt>Monday</dt>
			<dd>11:00 am - 7:00 pm</dd>
			<dd>Open Now!</dd>

			<dt>Tuesday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Wednesday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Thursday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Friday</dt>
			<dd>11:00 am - 7:00 pm</dd>

			<dt>Saturday</dt>
			<dd>11:00 am - 7:00 pm</dd>
			
			<dt>Sunday</dt>
			<dd>11:00 am - 7:00 pm</dd>
		</dl>
		-->
	</div>
	
	<div id="map" class="mapbox"></div>
	
	<script src="../../assets/leaflet/leaflet.js"></script>
	<script>

		var FOOD_SOURCE = {
			name: '{{ page.food_source['name'] }}',
			latitude: {{ page.food_source['latitude'] }},
			longitude: {{ page.food_source['longitude'] }},
		} 

		// var map = L.map('map', { zoomControl:false }).setView([-118.243685, 34.052234], 16);

		mapboxgl.accessToken = 'pk.eyJ1IjoiZm9vZGRlc2VydHNsYSIsImEiOiJjaXByOXRscnMwNzY1Zm5ub3YwYTd5Z3dsIn0.DWgUhgW32pVkybKx7cWWiw';
		
		var map = new mapboxgl.Map({
			container: 'map', // container id
		    style: 'mapbox://styles/mapbox/light-v9',
			//style: 'mapbox://styles/fooddesertsla/ciqlgjsvb0001bkno0wkx8gg8', // stylesheet location
			center: [FOOD_SOURCE.longitude, FOOD_SOURCE.latitude], // starting position
			zoom: 14 // starting zoom
		});

		var nav = new mapboxgl.Navigation({position: 'bottom-left'}); // position is optional
		map.addControl(nav);

		// var marker = new mapboxgl.Marker()
		// 	.setLngLat([-118.243685, 34.052234])
		// 	.addTo(map);

		// map.addControl(new mapboxgl.Geolocate({}));
		
		// BELOW is the wrong syntax, need to figure out how to get geolocated coordinates!!!
		// var newctr = new mapboxgl.getCenter();
		// var myLoc = mapboxgl.Marker().setLngLat(newctr).addTo(map);

		var marker = document.createElement('div');
		marker.className = 'marker';

		var img = document.createElement('img');
		img.className = 'icon';
		img.src = '/assets/images/markers/green.svg';
		marker.appendChild(img);

		var label = document.createElement('span');
		label.className = 'label';
		label.innerText = FOOD_SOURCE.name;
		marker.appendChild(label);

		new mapboxgl.Marker(marker)
			.setLngLat([FOOD_SOURCE.longitude, FOOD_SOURCE.latitude])
			.addTo(map);

		/*
		map.on('load', function () {
		    map.addSource("points", {
		        "type": "geojson",
		        "data": {
		            "type": "FeatureCollection",
		            "features": [{
		                "type": "Feature",
		                "geometry": {
		                    "type": "Point",
		                    "coordinates": [FOOD_SOURCE.longitude, FOOD_SOURCE.latitude]
		                },
		                "properties": {
		                    "title": FOOD_SOURCE.name,
		                    "icon": "mymarker"
		                }
		            }]
		        }
		    });

		    map.addLayer({
		        "id": "points",
		        "type": "symbol",
		        "source": "points",
		        "layout": {
		            "icon-image": "{icon}",
		            "text-field": "{title}",
		            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
		            //"text-color": "#ffff00",
		            //"text-opacity": 0.75,
		            "text-offset": [0, 0.75],
		            "text-anchor": "top"
		        }
		    });
		});
		*/



		// L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw', {
		// 	id: 'mapbox.streets'
		// }).addTo(map);

		// L.marker([-118.243685, 34.052234]).addTo(map);

	</script>
</body>
</html>
